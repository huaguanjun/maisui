(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{511:function(t,i,a){},540:function(t,i,a){"use strict";a(511)},550:function(t,i,a){"use strict";a.r(i);a(77);var n={name:"modelListCore",data:function(){return{pageAttrs:{currentPage:1},datagridOptions:{}}},props:{url:{type:Object,default:function(){return{get:"",post:""}}},model:{type:Object,default:function(){return{}}},params:{type:Object,default:function(){return{}}}},mounted:function(){this.init(),this.initDatagrid()},watch:{params:{handler:function(){this.load({currentPage:1,pageSize:10}),this.$refs.msuiPagination.currentPage=1},deep:!0},"model.data":{handler:function(){this.datagridOptions.data.unshift(this.model.data)}}},methods:{init:function(){this.initAxios()},initDatagrid:function(){this.datagridOptions={data:this.model.data,index:this.model.index||!0,selection:this.model.selection||!0,expand:this.model.expand||!1,datagridModel:this.model.datagridModel,globalButton:this.model.globalButton||[],inlineButton:this.model.inlineButton||[],attrs:{height:600,loading:!1},datagridFunction:Object.assign(this.model.datagridFunction||{},{})}},initAxios:function(){var t=this;this.getList=function(i){return t.$http.get("".concat(t.$api.PRE).concat(t.url.get),{params:i})},this.postList=function(i){return t.$http.post("".concat(t.$api.PRE).concat(t.url.post),i)}},load:function(t){var i=this;t&&(t=Object.assign(t,this.params)),this.datagridOptions.attrs.loading=!0,this.getList(t).then((function(t){var a=t.data;i.$emit("changeData",a,i.datagridOptions,i.$refs.msuiPagination),i.datagridOptions.attrs.loading=!1}))},pageChange:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1?arguments[1]:void 0;this.load({pageSize:i,currentPage:t})}}},e=(a(540),a(9)),s=Object(e.a)(n,(function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"table-content"},[i("msui-datagrid",{ref:"msuiDatagrid",staticClass:"msui-datagrid",attrs:{options:this.datagridOptions}}),this._v(" "),i("msui-pagination",{ref:"msuiPagination",staticClass:"table-page",attrs:{attrs:this.pageAttrs},on:{change:this.pageChange}})],1)}),[],!1,null,"64262b23",null);i.default=s.exports}}]);